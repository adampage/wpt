<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>Accname computation tests for element: &lt;input type="submit"&gt;</title>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <script src="/resources/testdriver.js"></script>
  <script src="/resources/testdriver-vendor.js"></script>
  <script src="/resources/testdriver-actions.js"></script>
  <script src="/wai-aria/scripts/aria-utils.js"></script>
</head>

<body>

  <h1>Accname computation tests for element: &lt;input type="submit"&gt;</h1>
  <p>
    <a href="https://www.w3.org/TR/html-aam-1.0/#input-type-button-input-type-submit-and-input-type-reset-accessible-name-computation">
      Computation steps described in HTML-AAM 1.0
    </a>
  </p>

  <h2>All possible accnames provided</h2>
  <label for="el-01">Host label #1 text</label>
  <label for="el-01">Host label #2 text</label>
  <p id="label-el-01">aria-labelledby element text</p>
  <input
    id="el-01"
    type="submit"
    value="Value attribute value"
    class="ex-label"
    aria-labelledby="label-el-01"
    aria-label="aria-label attribute value"
    title="Title attribute value"
    data-testname="All possible accnames provided"
    data-expectedlabel="aria-labelledby element text"
  >

  <h2>aria-labelledby eliminated</h2>
  <label for="el-02">Host label #1 text</label>
  <label for="el-02">Host label #2 text</label>
  <input
    id="el-02"
    type="submit"
    value="Value attribute value"
    class="ex-label"
    aria-label="aria-label attribute value"
    title="Title attribute value"
    data-testname="aria-labelledby eliminated"
    data-expectedlabel="aria-label attribute value"
  >

  <h2>aria-label eliminated</h2>
  <label for="el-03">Host label #1 text</label>
  <label for="el-03">Host label #2 text</label>
  <input
    id="el-03"
    type="submit"
    value="Value attribute value"
    class="ex-label"
    title="Title attribute value"
    data-testname="aria-label eliminated"
    data-expectedlabel="Host label #1 text Host label #2 text"
  >

  <h2>One &lt;label&gt; eliminated</h2>
  <label for="el-04">Host label #1 text</label>
  <input
    id="el-04"
    type="submit"
    value="Value attribute value"
    class="ex-label"
    title="Title attribute value"
    data-testname="One &lt;label&gt; eliminated"
    data-expectedlabel="Host label #1 text"
  >

  <h2>Both &lt;label&gt;s eliminated</h2>
  <input
    type="submit"
    value="Value attribute value"
    class="ex-label"
    title="Title attribute value"
    data-testname="Both &lt;label&gt;s eliminated"
    data-expectedlabel="Value attribute value"
  >

  <!--
    PR #44965 TODO: Can data-expectedlabel be tested here? The implementation-
          defined strings for <input type="submit"> are (as of April 2024):

          1. Chrome: "Submit"
          2. Safari: "Submit"
          3. Firefox: "Submit Query"

          Would a better test be data-expectedlabel=(not empty)?
  -->
  <!--
  <h2>Input value eliminated</h2>
  <input
    type="submit"
    class="ex-label"
    title="Title attribute value"
    data-testname="Input value eliminated"
    data-expectedlabel="Submit"
  >
  -->

  <!--
    PR #44965 TODO: What could cause the implementation-defined string to be
          unavailable and can it be tested? The remaining accname steps are:

          5. Otherwise, if the control still has no accessible name use title
             attribute.
          6. If none of the above yield a usable text string there is no
             accessible name.
  -->

  <script>
    AriaUtils.verifyLabelsBySelector(".ex-label");
  </script>
</body>

</html>
